var oe=Object.defineProperty,me=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var K=(s,t,a)=>t in s?oe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,N=(s,t)=>{for(var a in t||(t={}))he.call(t,a)&&K(s,a,t[a]);if(Y)for(var a of Y(t))ge.call(t,a)&&K(s,a,t[a]);return s},k=(s,t)=>me(s,xe(t));var w=(s,t,a)=>new Promise((r,i)=>{var l=o=>{try{h(a.next(o))}catch(d){i(d)}},c=o=>{try{h(a.throw(o))}catch(d){i(d)}},h=o=>o.done?r(o.value):Promise.resolve(o.value).then(l,c);h((a=a.apply(s,t)).next())});import{r as m,a as pe,B as ue}from"./react-vendor-q4HIUou_.js";import{t as fe,c as ye,H as C,S as W,E as be,a as je,A as q,W as Ne,C as ve,b as _e,T as z,d as we,B as ke,M as Se,e as ee,f as J,U as B,g as De,h as M,i as Ce,j as Pe,k as Ie,L as Le}from"./ui-vendor-BjENnLvi.js";import{C as Re,a as Oe,L as Ee,P as He,b as Ae,p as Te,c as Ue,d as ze,e as Be}from"./chart-vendor-DhNONhMU.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();var se={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=m,Fe=Symbol.for("react.element"),$e=Symbol.for("react.fragment"),Ve=Object.prototype.hasOwnProperty,We=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0};function te(s,t,a){var r,i={},l=null,c=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)Ve.call(t,r)&&!qe.hasOwnProperty(r)&&(i[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Fe,type:s,key:l,ref:c,props:i,_owner:We.current}}F.Fragment=$e;F.jsx=te;F.jsxs=te;se.exports=F;var e=se.exports,G={},X=pe;G.createRoot=X.createRoot,G.hydrateRoot=X.hydrateRoot;const ae=m.createContext(void 0);function R(){const s=m.useContext(ae);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const $=[],A=[];function Je({children:s}){const[t,a]=m.useState(null),[r,i]=m.useState(null),[l,c]=m.useState(!0);m.useEffect(()=>{const f=localStorage.getItem("mockUser"),y=localStorage.getItem("mockProfile");f&&y&&(a(JSON.parse(f)),i(JSON.parse(y))),c(!1)},[]);const S={user:t,profile:r,loading:l,signUp:(f,y,j,b,v)=>w(this,null,function*(){if($.find(g=>g.email===f))throw new Error("User already exists");const n={id:`user-${Date.now()}`,email:f,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},u=N({id:n.id,email:f,role:b,full_name:j,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},v);$.push(n),A.push(u),a(n),i(u),localStorage.setItem("mockUser",JSON.stringify(n)),localStorage.setItem("mockProfile",JSON.stringify(u))}),signIn:(f,y)=>w(this,null,function*(){const j=$.find(v=>v.email===f),b=A.find(v=>v.email===f);if(!j||!b)throw new Error("Invalid credentials");a(j),i(b),localStorage.setItem("mockUser",JSON.stringify(j)),localStorage.setItem("mockProfile",JSON.stringify(b))}),signOut:()=>w(this,null,function*(){a(null),i(null),localStorage.removeItem("mockUser"),localStorage.removeItem("mockProfile")}),updateProfile:f=>w(this,null,function*(){if(!t||!r)throw new Error("No user logged in");const y=k(N(N({},r),f),{updated_at:new Date().toISOString()}),j=A.findIndex(b=>b.id===r.id);j!==-1&&(A[j]=y),i(y),localStorage.setItem("mockProfile",JSON.stringify(y))})};return e.jsx(ae.Provider,{value:S,children:s})}function H(...s){return fe(ye(s))}function Ge(s){const a=Math.abs(new Date().getTime()-s.getTime()),r=Math.ceil(a/(1e3*60*60*24));return Math.floor(r/7)}function Ye(s){switch(s.toLowerCase()){case"low":return"text-success-600 bg-success-50 border-success-200";case"moderate":return"text-warning-600 bg-warning-50 border-warning-200";case"high":return"text-danger-600 bg-danger-50 border-danger-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}function L({size:s="md",className:t}){const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return e.jsx("div",{className:H("flex items-center justify-center",t),children:e.jsx("div",{className:H("animate-spin rounded-full border-2 border-gray-300 border-t-primary-600",a[s])})})}function Ke(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(L,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}function Xe(){const[s,t]=m.useState(!0),[a,r]=m.useState(""),[i,l]=m.useState(""),[c,h]=m.useState(""),[o,d]=m.useState("patient"),[x,S]=m.useState(!1),[f,y]=m.useState(!1),[j,b]=m.useState(""),[v,n]=m.useState(""),[u,g]=m.useState(""),[p,D]=m.useState(""),[P,le]=m.useState(""),{signIn:ne,signUp:ce}=R(),de=_=>w(this,null,function*(){_.preventDefault(),y(!0),b("");try{if(s)yield ne(a,i);else{const I={};o==="patient"?(v&&(I.last_period_date=v),u&&(I.due_date=u)):o==="doctor"&&(p&&(I.license_number=p),P&&(I.specialization=P)),yield ce(a,i,c,o,I)}}catch(I){b(I instanceof Error?I.message:"An error occurred")}finally{y(!1)}});return e.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full mb-4",children:e.jsx(C,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"HyHTech"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"HDP Monitor for Pregnancy Care"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex mb-6",children:[e.jsx("button",{type:"button",onClick:()=>t(!0),className:`flex-1 py-2 px-4 text-center rounded-lg font-medium transition-colors ${s?"bg-primary-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),e.jsx("button",{type:"button",onClick:()=>t(!1),className:`flex-1 py-2 px-4 text-center rounded-lg font-medium transition-colors ${s?"text-gray-600 hover:text-gray-900":"bg-primary-600 text-white"}`,children:"Sign Up"})]}),e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:c,onChange:_=>h(_.target.value),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"I am a..."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>d("patient"),className:`p-3 rounded-lg border-2 transition-all ${o==="patient"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(C,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("div",{className:"text-sm font-medium",children:"Patient"})]}),e.jsxs("button",{type:"button",onClick:()=>d("doctor"),className:`p-3 rounded-lg border-2 transition-all ${o==="doctor"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(W,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("div",{className:"text-sm font-medium",children:"Doctor"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:a,onChange:_=>r(_.target.value),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",value:i,onChange:_=>l(_.target.value),className:"input-field pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>S(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(be,{className:"w-5 h-5"}):e.jsx(je,{className:"w-5 h-5"})})]})]}),!s&&o==="patient"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Period Date (Optional)"}),e.jsx("input",{type:"date",value:v,onChange:_=>n(_.target.value),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date (Optional)"}),e.jsx("input",{type:"date",value:u,onChange:_=>g(_.target.value),className:"input-field"})]})]}),!s&&o==="doctor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number (Optional)"}),e.jsx("input",{type:"text",value:p,onChange:_=>D(_.target.value),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization (Optional)"}),e.jsx("input",{type:"text",value:P,onChange:_=>le(_.target.value),className:"input-field",placeholder:"e.g., Gynecology, Obstetrics"})]})]}),j&&e.jsx("div",{className:"p-3 bg-danger-50 border border-danger-200 rounded-lg",children:e.jsx("p",{className:"text-danger-600 text-sm",children:j})}),e.jsx("button",{type:"submit",disabled:f,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsx(L,{size:"sm"}):s?"Sign In":"Create Account"})]})]})]})})}const Qe="https://hdp-backend-production.up.railway.app",Ze={predict:s=>{let t=0;const a=[];console.log("ðŸ” Analyzing vitals:",s),s.bp>=180?(t+=.8,a.push("Hypertensive crisis (â‰¥180 mmHg) - URGENT")):s.bp>=160?(t+=.65,a.push("Severe hypertension (â‰¥160 mmHg)")):s.bp>=140?(t+=.45,a.push("Stage 2 hypertension (140-159 mmHg)")):s.bp>=130?(t+=.3,a.push("Stage 1 hypertension (130-139 mmHg)")):s.bp>=120&&(t+=.15,a.push("Elevated blood pressure (120-129 mmHg)")),s.heart_rate>=130?(t+=.4,a.push("Severe tachycardia (â‰¥130 bpm)")):s.heart_rate>=120?(t+=.3,a.push("Significant tachycardia (120-129 bpm)")):s.heart_rate>=100?(t+=.2,a.push("Tachycardia (100-119 bpm)")):s.heart_rate>=90&&(t+=.1,a.push("Elevated heart rate (90-99 bpm)")),s.swelling===1&&(t+=.25,a.push("Edema/swelling present (preeclampsia indicator)")),s.headache===1&&(t+=.2,a.push("Headache symptoms (neurological concern)")),s.age>=40?(t+=.25,a.push("Advanced maternal age (â‰¥40 years)")):s.age>=35?(t+=.2,a.push("Maternal age 35-39 years (increased risk)")):s.age<20&&(t+=.15,a.push("Young maternal age (<20 years)")),s.weight>=120?(t+=.3,a.push("Severe obesity (â‰¥120 kg)")):s.weight>=100?(t+=.25,a.push("Morbid obesity (100-119 kg)")):s.weight>=85?(t+=.2,a.push("Obesity (85-99 kg)")):s.weight>=75&&(t+=.1,a.push("Overweight (75-84 kg)")),s.bp>=160&&s.headache===1&&(t+=.2,a.push("âš ï¸ SEVERE: Hypertension with headache (preeclampsia risk)")),s.bp>=140&&s.swelling===1&&(t+=.2,a.push("âš ï¸ HIGH CONCERN: Hypertension with edema")),s.bp>=160&&s.heart_rate>=100&&(t+=.25,a.push("âš ï¸ CRITICAL: Severe hypertension with tachycardia")),s.headache===1&&s.swelling===1&&(t+=.15,a.push("Multiple preeclampsia symptoms present")),s.age>=35&&s.bp>=140&&(t+=.15,a.push("Advanced age with hypertension (high-risk combination)")),s.bp>=140&&s.headache===1&&s.swelling===1&&(t+=.2,a.push("ðŸš¨ TRIPLE RISK: Hypertension + Headache + Edema")),console.log("ðŸ“Š Calculated risk score:",t),console.log("ðŸŽ¯ Risk factors identified:",a),s.bp>=140&&t<.4&&(t=.4),s.bp>=160&&t<.6&&(t=.6),t=Math.min(t,.95);let r,i;t>=.7?(r=1,i="ðŸš¨ CRITICAL HIGH"):t>=.5?(r=1,i="âš ï¸ HIGH"):t>=.3?(r=1,i="âš ï¸ MODERATE-HIGH"):t>=.2?(r=0,i="âš ï¸ MODERATE"):(r=0,i="âœ… LOW");const l={input:s,risk_prediction:r,risk_probability:t,message:`${i} risk of HDP detected`,factors:a};return console.log("ðŸŽ¯ Final prediction result:",l),l}};function re(s){return w(this,null,function*(){try{const a={bp:s.systolic_bp,swelling:s.symptoms.includes("swelling")?1:0,headache:s.symptoms.includes("headache")?1:0,age:30,weight:s.weight,heart_rate:s.heart_rate};console.log("ðŸ”„ Sending prediction request with input:",a);try{const l=yield fetch(`${Qe}/predict`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok){const c=yield l.json();console.log("âœ… API prediction response:",c);const h=c.risk_prediction===1?c.risk_probability>=.7?"high":"moderate":c.risk_probability>=.3?"moderate":"low";return{id:crypto.randomUUID(),patient_id:s.patient_id,vitals_id:s.id||crypto.randomUUID(),risk_level:h,risk_score:c.risk_probability,factors:c.factors,created_at:new Date().toISOString()}}else console.log("âš ï¸ API response not ok, using enhanced clinical model")}catch(l){console.log("âš ï¸ API not available, using enhanced clinical model:",l)}const r=Ze.predict(a);console.log("ðŸ§  Enhanced clinical model prediction:",r);const i=r.risk_prediction===1?r.risk_probability>=.7?"high":"moderate":r.risk_probability>=.3?"moderate":"low";return{id:crypto.randomUUID(),patient_id:s.patient_id,vitals_id:s.id||crypto.randomUUID(),risk_level:i,risk_score:r.risk_probability,factors:r.factors,created_at:new Date().toISOString()}}catch(t){console.error("âŒ Error predicting HDP risk:",t);let a=.1;const r=[];return s.systolic_bp>=160?(a=.7,r.push("Severe hypertension detected")):s.systolic_bp>=140?(a=.5,r.push("Hypertension detected")):s.systolic_bp>=130&&(a=.3,r.push("Elevated blood pressure")),s.symptoms.includes("headache")&&(a+=.2,r.push("Headache symptoms")),s.symptoms.includes("swelling")&&(a+=.2,r.push("Swelling/edema present")),a=Math.min(a,.9),{id:crypto.randomUUID(),patient_id:s.patient_id,vitals_id:s.id||crypto.randomUUID(),risk_level:a>=.5?"high":a>=.3?"moderate":"low",risk_score:a,factors:r.length>0?r:["Basic health assessment completed"],created_at:new Date().toISOString()}}})}const es=["headache","blurred_vision","swelling","nausea","dizziness","chest_pain","shortness_of_breath"];function ie({onSubmit:s}){const{user:t}=R(),[a,r]=m.useState(!1),[i,l]=m.useState({systolic_bp:"",diastolic_bp:"",heart_rate:"",weight:"",symptoms:[],medication_taken:!1,notes:""}),c=(o,d)=>{l(x=>k(N({},x),{symptoms:d?[...x.symptoms,o]:x.symptoms.filter(S=>S!==o)}))},h=o=>w(this,null,function*(){if(o.preventDefault(),!!t){console.log("ðŸ“ Form data being submitted:",i),r(!0);try{const d={id:`vitals-${Date.now()}`,patient_id:t.id,date:new Date().toISOString().split("T")[0],systolic_bp:parseInt(i.systolic_bp),diastolic_bp:parseInt(i.diastolic_bp),heart_rate:parseInt(i.heart_rate),weight:parseFloat(i.weight),symptoms:i.symptoms,medication_taken:i.medication_taken,notes:i.notes,created_at:new Date().toISOString()};console.log("ðŸ“Š Submitting vitals for AI analysis:",d),mockVitalsStorage.push(d),console.log("ðŸ¤– Getting AI risk prediction...");const x=yield re(d);console.log("ðŸŽ¯ Risk prediction result:",x),mockRiskStorage.push(x),s(d,x),l({systolic_bp:"",diastolic_bp:"",heart_rate:"",weight:"",symptoms:[],medication_taken:!1,notes:""})}catch(d){console.error("Error submitting vitals:",d),alert("Error submitting vitals. Please try again.")}finally{r(!1)}}});return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e.jsx(q,{className:"w-6 h-6 text-primary-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daily Vitals"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(C,{className:"w-4 h-4 inline mr-1"}),"Systolic BP (mmHg)"]}),e.jsx("input",{type:"number",value:i.systolic_bp,onChange:o=>l(d=>k(N({},d),{systolic_bp:o.target.value})),className:"input-field",placeholder:"120",min:"80",max:"200",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(C,{className:"w-4 h-4 inline mr-1"}),"Diastolic BP (mmHg)"]}),e.jsx("input",{type:"number",value:i.diastolic_bp,onChange:o=>l(d=>k(N({},d),{diastolic_bp:o.target.value})),className:"input-field",placeholder:"80",min:"50",max:"120",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(q,{className:"w-4 h-4 inline mr-1"}),"Heart Rate (bpm)"]}),e.jsx("input",{type:"number",value:i.heart_rate,onChange:o=>l(d=>k(N({},d),{heart_rate:o.target.value})),className:"input-field",placeholder:"72",min:"50",max:"150",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Weight (kg)"]}),e.jsx("input",{type:"number",step:"0.1",value:i.weight,onChange:o=>l(d=>k(N({},d),{weight:o.target.value})),className:"input-field",placeholder:"65.5",min:"30",max:"150",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(ve,{className:"w-4 h-4 inline mr-1"}),"Symptoms (select all that apply)"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:es.map(o=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.symptoms.includes(o),onChange:d=>c(o,d.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:o.replace("_"," ")})]},o))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.medication_taken,onChange:o=>l(d=>k(N({},d),{medication_taken:o.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Medication taken today"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:i.notes,onChange:o=>l(d=>k(N({},d),{notes:o.target.value})),className:"input-field",rows:3,placeholder:"Any additional notes about how you're feeling today..."})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{size:"sm"}),e.jsx("span",{children:"Analyzing with AI..."})]}):"Submit Vitals & Get AI Risk Assessment"})]})]})}Re.register(Oe,Ee,He,Ae,Te,Ue,ze);function O({data:s,title:t,color:a,unit:r="",height:i=300}){const l={labels:s.map(h=>new Date(h.date).toLocaleDateString()),datasets:[{label:t,data:s.map(h=>h.value),borderColor:a,backgroundColor:a+"20",borderWidth:2,fill:!0,tension:.4,pointBackgroundColor:a,pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:t,font:{size:16,weight:"bold"},color:"#374151"},tooltip:{backgroundColor:"#fff",titleColor:"#374151",bodyColor:"#6b7280",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:8,displayColors:!1,callbacks:{label:h=>`${h.parsed.y}${r}`}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:12}}},y:{grid:{color:"#f3f4f6"},ticks:{color:"#6b7280",font:{size:12},callback:h=>`${h}${r}`}}},elements:{point:{hoverBackgroundColor:a}}};return s.length===0?e.jsx("div",{className:"flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",style:{height:i},children:e.jsx("p",{className:"text-gray-500",children:"No data available"})}):e.jsx("div",{style:{height:i},children:e.jsx(Be,{data:l,options:c})})}function E({risk:s,score:t,className:a}){const r=()=>{switch(s){case"low":return e.jsx(we,{className:"w-4 h-4"});case"moderate":return e.jsx(z,{className:"w-4 h-4"});case"high":return e.jsx(_e,{className:"w-4 h-4"})}},i=()=>{switch(s){case"low":return"Low Risk";case"moderate":return"Moderate Risk";case"high":return"High Risk"}};return e.jsxs("div",{className:H("inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium border",Ye(s),a),children:[r(),e.jsx("span",{children:i()}),t!==void 0&&e.jsxs("span",{className:"text-xs opacity-75",children:["(",Math.round(t*100),"%)"]})]})}const T=[];let U=null;function V(){var u;const{profile:s}=R(),[t,a]=m.useState([]),[r,i]=m.useState(null),[l,c]=m.useState({systolic:[],diastolic:[],heart_rate:[],weight:[]}),[h,o]=m.useState(!0),[d,x]=m.useState(!1);m.useEffect(()=>{s&&S()},[s,S]);const S=m.useCallback(()=>w(this,null,function*(){s&&(a(T),y(T),T.length>0&&(yield f()),o(!1))}),[s]),f=m.useCallback(()=>w(this,null,function*(){if(s){if(U)i(U);else if(t.length>0)try{const g=t[0],p=yield re(g);U=p,i(p)}catch(g){console.error("Error calculating risk:",g)}}}),[s,t]),y=g=>{const p={systolic:[],diastolic:[],heart_rate:[],weight:[]};g.reverse().forEach(D=>{const P=D.date;p.systolic.push({date:P,value:D.systolic_bp}),p.diastolic.push({date:P,value:D.diastolic_bp}),p.heart_rate.push({date:P,value:D.heart_rate}),p.weight.push({date:P,value:D.weight})}),c(p)},j=(g,p)=>w(this,null,function*(){console.log("ðŸ“Š Dashboard received new vitals:",g),console.log("ðŸŽ¯ Dashboard received risk prediction:",p);const D=[g,...t];a(D),y(D),U=p,i(p),T.unshift(g),x(!1)}),b=()=>s!=null&&s.last_period_date?Ge(new Date(s.last_period_date)):null,v=()=>{alert("Contact doctor feature would be implemented here")};if(h)return e.jsx(L,{});const n=b();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"gradient-bg border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",(u=s==null?void 0:s.full_name)==null?void 0:u.split(" ")[0],"!"]}),n&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-gray-600",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsxs("span",{children:["Week ",n," of pregnancy"]})]})]}),e.jsxs("button",{onClick:v,className:"btn-primary flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"Contact Doctor"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Latest BP"}),e.jsx("p",{className:"text-xl font-semibold",children:t[0]?`${t[0].systolic_bp}/${t[0].diastolic_bp}`:"--/--"})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-success-100 rounded-lg",children:e.jsx(ee,{className:"w-6 h-6 text-success-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Heart Rate"}),e.jsx("p",{className:"text-xl font-semibold",children:t[0]?`${t[0].heart_rate} bpm`:"-- bpm"})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-secondary-100 rounded-lg",children:e.jsx(J,{className:"w-6 h-6 text-secondary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Entries"}),e.jsx("p",{className:"text-xl font-semibold",children:t.length})]})]})})]}),d?e.jsx(ie,{onSubmit:j}):e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to log your vitals?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Track your daily health metrics to monitor your pregnancy"}),e.jsx("button",{onClick:()=>x(!0),className:"btn-primary",children:"Log Today's Vitals"})]})}),t.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Trends"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"card",children:e.jsx(O,{data:l.systolic,title:"Systolic Blood Pressure",color:"#dc2626",unit:" mmHg",height:250})}),e.jsx("div",{className:"card",children:e.jsx(O,{data:l.diastolic,title:"Diastolic Blood Pressure",color:"#ea580c",unit:" mmHg",height:250})}),e.jsx("div",{className:"card",children:e.jsx(O,{data:l.heart_rate,title:"Heart Rate",color:"#0ea5e9",unit:" bpm",height:250})}),e.jsx("div",{className:"card",children:e.jsx(O,{data:l.weight,title:"Weight",color:"#8b5cf6",unit:" kg",height:250})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Risk Assessment"}),r?e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{risk:r.risk_level,score:r.risk_score}),r.factors.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Risk Factors:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:r.factors.map((g,p)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),g]},p))})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(r.created_at).toLocaleDateString()]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-500",children:"No risk assessment available"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Log your vitals to get a risk assessment"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),t.length>0?e.jsx("div",{className:"space-y-3",children:t.slice(0,5).map((g,p)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Vitals logged"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[g.systolic_bp,"/",g.diastolic_bp]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.heart_rate," bpm"]})]})]},g.id||p))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No activity yet"})]})]})]})})]})}const ss=[{id:"patient-1",email:"patient1@example.com",role:"patient",full_name:"Sarah Johnson",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),latest_vitals:{id:"1",patient_id:"patient-1",date:new Date().toISOString().split("T")[0],systolic_bp:140,diastolic_bp:90,heart_rate:85,weight:70,symptoms:["headache"],medication_taken:!0,created_at:new Date().toISOString()},latest_risk:{id:"1",patient_id:"patient-1",vitals_id:"1",risk_level:"high",risk_score:.8,factors:["High blood pressure","Headache symptoms"],created_at:new Date().toISOString()},vitals_count:15},{id:"patient-2",email:"patient2@example.com",role:"patient",full_name:"Emily Davis",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),latest_vitals:{id:"2",patient_id:"patient-2",date:new Date().toISOString().split("T")[0],systolic_bp:115,diastolic_bp:75,heart_rate:68,weight:62,symptoms:[],medication_taken:!1,created_at:new Date().toISOString()},latest_risk:{id:"2",patient_id:"patient-2",vitals_id:"2",risk_level:"low",risk_score:.2,factors:[],created_at:new Date().toISOString()},vitals_count:8}];function Q(){const{profile:s}=R(),[t,a]=m.useState([]),[r,i]=m.useState(null),[l,c]=m.useState([]),[h,o]=m.useState([]),[d,x]=m.useState(!0),[S,f]=m.useState("");m.useEffect(()=>{s&&y()},[s,y]);const y=m.useCallback(()=>w(this,null,function*(){s&&(a(ss),x(!1))}),[s]),j=n=>w(this,null,function*(){const u=n.latest_vitals?[n.latest_vitals]:[],g=n.latest_risk?[n.latest_risk]:[];c(u),o(g),i(n)}),b=()=>t.filter(n=>{var u;return((u=n.latest_risk)==null?void 0:u.risk_level)==="high"}),v=t.filter(n=>n.full_name.toLowerCase().includes(S.toLowerCase())||n.email.toLowerCase().includes(S.toLowerCase()));return d?e.jsx(L,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"gradient-bg border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Doctor Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome back, Dr. ",s==null?void 0:s.full_name]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg px-4 py-2 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-primary-600"}),e.jsxs("span",{className:"font-medium",children:[t.length," Patients"]})]})}),b().length>0&&e.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-danger-600"}),e.jsxs("span",{className:"font-medium text-danger-700",children:[b().length," High Risk"]})]})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>i(null),className:"btn-secondary",children:"â† Back to Patients"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r.full_name}),r.latest_risk&&e.jsx(E,{risk:r.latest_risk.risk_level,score:r.latest_risk.risk_score})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Patient Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium",children:r.email})]}),r.last_period_date&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Last Period"}),e.jsx("p",{className:"font-medium",children:new Date(r.last_period_date).toLocaleDateString()})]}),r.due_date&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Due Date"}),e.jsx("p",{className:"font-medium",children:new Date(r.due_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Entries"}),e.jsx("p",{className:"font-medium",children:r.vitals_count})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Latest Vitals"}),r.latest_vitals?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Blood Pressure"}),e.jsxs("span",{className:"font-medium",children:[r.latest_vitals.systolic_bp,"/",r.latest_vitals.diastolic_bp]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Heart Rate"}),e.jsxs("span",{className:"font-medium",children:[r.latest_vitals.heart_rate," bpm"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Weight"}),e.jsxs("span",{className:"font-medium",children:[r.latest_vitals.weight," kg"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date"}),e.jsx("span",{className:"font-medium",children:new Date(r.latest_vitals.date).toLocaleDateString()})]})]}):e.jsx("p",{className:"text-gray-500",children:"No vitals recorded"})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Assessment"}),r.latest_risk?e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{risk:r.latest_risk.risk_level,score:r.latest_risk.risk_score}),r.latest_risk.factors.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Risk Factors:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:r.latest_risk.factors.map((n,u)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),n]},u))})]})]}):e.jsx("p",{className:"text-gray-500",children:"No risk assessment available"})]})]}),l.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Health Trends"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"card",children:e.jsx(O,{data:l.reverse().map(n=>({date:n.date,value:n.systolic_bp})),title:"Systolic Blood Pressure",color:"#dc2626",unit:" mmHg",height:250})}),e.jsx("div",{className:"card",children:e.jsx(O,{data:l.map(n=>({date:n.date,value:n.heart_rate})),title:"Heart Rate",color:"#0ea5e9",unit:" bpm",height:250})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Entries"}),l.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2",children:"Date"}),e.jsx("th",{className:"text-left py-2",children:"BP"}),e.jsx("th",{className:"text-left py-2",children:"HR"}),e.jsx("th",{className:"text-left py-2",children:"Weight"}),e.jsx("th",{className:"text-left py-2",children:"Symptoms"})]})}),e.jsx("tbody",{children:l.slice(0,10).map((n,u)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2",children:new Date(n.date).toLocaleDateString()}),e.jsxs("td",{className:"py-2",children:[n.systolic_bp,"/",n.diastolic_bp]}),e.jsx("td",{className:"py-2",children:n.heart_rate}),e.jsxs("td",{className:"py-2",children:[n.weight," kg"]}),e.jsx("td",{className:"py-2",children:n.symptoms.length>0?n.symptoms.join(", "):"None"})]},n.id||u))})]})}):e.jsx("p",{className:"text-gray-500",children:"No entries found"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search patients...",value:S,onChange:n=>f(n.target.value),className:"input-field pl-10"})]})}),b().length>0&&e.jsxs("div",{className:"card border-l-4 border-l-danger-500",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(z,{className:"w-6 h-6 text-danger-600"}),e.jsx("h3",{className:"text-lg font-semibold text-danger-700",children:"High Risk Patients"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b().map(n=>e.jsxs("div",{className:"p-4 bg-danger-50 border border-danger-200 rounded-lg cursor-pointer hover:bg-danger-100 transition-colors",onClick:()=>j(n),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-danger-900",children:n.full_name}),e.jsx(E,{risk:"high"})]}),e.jsxs("p",{className:"text-sm text-danger-700",children:["Last entry: ",n.latest_vitals?new Date(n.latest_vitals.date).toLocaleDateString():"No data"]})]},n.id))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Patients (",v.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(n=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg cursor-pointer hover:border-primary-300 hover:bg-primary-50 transition-all",onClick:()=>j(n),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.full_name}),n.latest_risk&&e.jsx(E,{risk:n.latest_risk.risk_level})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:n.email}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Entries: ",n.vitals_count]}),n.latest_vitals&&e.jsxs("span",{children:["Last: ",new Date(n.latest_vitals.date).toLocaleDateString()]})]}),n.latest_vitals&&e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{children:["BP: ",n.latest_vitals.systolic_bp,"/",n.latest_vitals.diastolic_bp]}),e.jsxs("span",{children:["HR: ",n.latest_vitals.heart_rate]})]})]})]},n.id))}),v.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No patients found"})]})]})]})})]})}function Z(){const{profile:s,updateProfile:t}=R(),[a,r]=m.useState(!1),[i,l]=m.useState(!1),[c,h]=m.useState({full_name:(s==null?void 0:s.full_name)||"",last_period_date:(s==null?void 0:s.last_period_date)||"",due_date:(s==null?void 0:s.due_date)||"",license_number:(s==null?void 0:s.license_number)||"",specialization:(s==null?void 0:s.specialization)||""}),o=d=>w(this,null,function*(){d.preventDefault(),r(!0),l(!1);try{const x={full_name:c.full_name};(s==null?void 0:s.role)==="patient"?(c.last_period_date&&(x.last_period_date=c.last_period_date),c.due_date&&(x.due_date=c.due_date)):(s==null?void 0:s.role)==="doctor"&&(c.license_number&&(x.license_number=c.license_number),c.specialization&&(x.specialization=c.specialization)),yield t(x),l(!0),setTimeout(()=>l(!1),3e3)}catch(x){console.error("Error updating profile:",x)}finally{r(!1)}});return s?e.jsx("div",{className:"max-w-2xl mx-auto p-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:s.role==="patient"?e.jsx(C,{className:"w-6 h-6 text-primary-600"}):e.jsx(W,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),e.jsxs("p",{className:"text-gray-600 capitalize",children:[s.role," Account"]})]})]}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(M,{className:"w-4 h-4 inline mr-1"}),"Full Name"]}),e.jsx("input",{type:"text",value:c.full_name,onChange:d=>h(x=>k(N({},x),{full_name:d.target.value})),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ce,{className:"w-4 h-4 inline mr-1"}),"Email"]}),e.jsx("input",{type:"email",value:s.email,className:"input-field bg-gray-50",disabled:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]})]}),s.role==="patient"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pregnancy Information"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(J,{className:"w-4 h-4 inline mr-1"}),"Last Period Date"]}),e.jsx("input",{type:"date",value:c.last_period_date,onChange:d=>h(x=>k(N({},x),{last_period_date:d.target.value})),className:"input-field"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(J,{className:"w-4 h-4 inline mr-1"}),"Due Date"]}),e.jsx("input",{type:"date",value:c.due_date,onChange:d=>h(x=>k(N({},x),{due_date:d.target.value})),className:"input-field"})]})]}),s.role==="doctor"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Professional Information"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(W,{className:"w-4 h-4 inline mr-1"}),"License Number"]}),e.jsx("input",{type:"text",value:c.license_number,onChange:d=>h(x=>k(N({},x),{license_number:d.target.value})),className:"input-field"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(C,{className:"w-4 h-4 inline mr-1"}),"Specialization"]}),e.jsx("input",{type:"text",value:c.specialization,onChange:d=>h(x=>k(N({},x),{specialization:d.target.value})),className:"input-field",placeholder:"e.g., Gynecology, Obstetrics"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Created"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.updated_at).toLocaleDateString()})]})]})]}),i&&e.jsx("div",{className:"p-3 bg-success-50 border border-success-200 rounded-lg",children:e.jsx("p",{className:"text-success-600 text-sm",children:"Profile updated successfully!"})}),e.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{size:"sm"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]})})]})]})}):e.jsx(L,{})}const ts=[{id:"home",label:"Home",icon:Ie},{id:"input",label:"Input",icon:q},{id:"insights",label:"Insights",icon:ee},{id:"profile",label:"Profile",icon:M}];function as({activeTab:s,onTabChange:t}){return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 md:hidden",children:e.jsx("div",{className:"flex items-center justify-around",children:ts.map(a=>{const r=a.icon,i=s===a.id;return e.jsxs("button",{onClick:()=>t(a.id),className:H("flex flex-col items-center gap-1 py-2 px-3 rounded-lg transition-colors",i?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-gray-900"),children:[e.jsx(r,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.id)})})})}const rs=[{id:"dashboard",label:"Dashboard",icon:B},{id:"patients",label:"Patients",icon:B},{id:"alerts",label:"Alerts",icon:z},{id:"profile",label:"Profile",icon:M}];function is({activeTab:s,onTabChange:t}){const{signOut:a,profile:r}=R(),i=()=>w(this,null,function*(){try{yield a()}catch(l){console.error("Error signing out:",l)}});return e.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-gray-200",children:[e.jsx("div",{className:"p-2 bg-primary-600 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"HyHTech"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Doctor Portal"})]})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:rs.map(l=>{const c=l.icon,h=s===l.id;return e.jsxs("button",{onClick:()=>t(l.id),className:H("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors",h?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[e.jsx(c,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:l.label})]},l.id)})}),e.jsxs("div",{className:"px-4 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-4 h-4 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Dr. ",r==null?void 0:r.full_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:r==null?void 0:r.email})]})]}),e.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})})}function ls(){const{user:s,profile:t,loading:a}=R(),[r,i]=m.useState("home");if(a)return e.jsx(Ke,{});if(!s||!t)return e.jsx(Xe,{});const l=()=>{switch(r){case"home":return e.jsx(V,{});case"input":return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 pb-20 md:pb-4",children:e.jsx("div",{className:"max-w-2xl mx-auto pt-8",children:e.jsx(ie,{onSubmit:()=>i("home")})})});case"insights":return e.jsx(V,{});case"profile":return e.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-4",children:e.jsx(Z,{})});default:return e.jsx(V,{})}},c=()=>{switch(r){case"dashboard":case"patients":case"alerts":return e.jsx(Q,{});case"profile":return e.jsx(Z,{});default:return e.jsx(Q,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.role==="doctor"&&e.jsx(is,{activeTab:r,onTabChange:i}),e.jsx("div",{className:t.role==="doctor"?"md:ml-64":"",children:t.role==="patient"?l():c()}),t.role==="patient"&&e.jsx(as,{activeTab:r,onTabChange:i})]})}function ns(){return e.jsx(ue,{children:e.jsx(Je,{children:e.jsx(ls,{})})})}G.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(ns,{})}));
//# sourceMappingURL=index-ChLQRhMw.js.map
